<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIC2025</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <header>
        <h1>Hybrid Video Frame Retrieval</h1>
    </header>

    <main>
        <div class="search-container">
            <form id="search-form">
                <!-- Main semantic query -->
                <input type="text" id="main-query" name="query" placeholder="Enter a general description...">
                
                <button type="button" id="toggle-filters-btn">▼ Advanced Filters</button>
                <button type="submit" id="search-btn">Search</button>

                <!-- Hidden Advanced Filters Panel -->
                <div id="advanced-filters" class="hidden">
                    <div class="filter-group">
                        <label for="text-filter">Text in Image (OCR):</label>
                        <input type="text" id="text-filter" name="text" placeholder="e.g., 'Welcome' or 'Sale'">
                    </div>
                    
                    <div class="filter-group">
                        <label for="metadata-filter">Metadata Contains:</label>
                        <input type="text" id="metadata-filter" name="metadata" placeholder="e.g., 'VTV3' or 'Interview'">
                    </div>

                    <div class="filter-group">
                        <label>Must Contain Objects:</label>
                        <div id="object-list">
                            <!-- JS will add objects here -->
                        </div>
                        <div class="add-object-controls">
                            <select id="object-select">
                                <!-- Pre-populate with common object labels -->
                                <option value="Person">Person</option>
                                <option value="Car">Car</option>
                                <option value="Dog">Dog</option>
                                <option value="Cat">Cat</option>
                                <option value="Tree">Tree</option>
                                <option value="Chair">Chair</option>
                            </select>
                            <input type="number" id="object-count" value="1" min="1">
                            <button type="button" id="add-object-btn">Add</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <div id="results-container">
            <!-- JS will populate search results here -->
            <p class="placeholder">Search results will appear here.</p>
        </div>
    </main>

    <div id="video-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="close-modal-btn" class="close-btn">&times;</button>
            <h3 id="modal-video-title">Loading video...</h3>
            <video id="modal-video-player" width="100%" controls autoplay>
                <!-- Trình duyệt sẽ hiển thị thông báo này nếu không hỗ trợ thẻ video -->
                Your browser does not support the video tag.
            </video>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>